<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.10cf8933dad2a1bbf038.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}body{height:100vh}h1{font-size:1.875rem}h1,h2{font-weight:700}h2{font-size:1.25rem}h3{font-weight:700}a{text-decoration:underline}a:hover{color:#2b6cb0;text-decoration:none}p{margin-bottom:1rem}ul{list-style-type:disc}ol,ul{padding-left:1.5rem}ol{list-style-type:decimal}hr{margin-top:1rem;margin-bottom:1rem}.refs-box a{color:#718096}blockquote{padding:.25rem 1rem;margin-bottom:1rem;border-left-width:2px;border-color:#4299e1}blockquote p{margin:0;font-family:Georgia,Cambria,Times New Roman,Times,serif;font-size:1.25rem}code{font-size:.875rem;color:#9c4221;background-color:#fffaf0;padding-left:.25rem;padding-right:.25rem;margin-left:-.25rem;margin-right:-.25rem}code,pre{border-radius:.25rem}pre{margin-bottom:1rem;padding:.5rem;background-color:#f7fafc;overflow-x:auto}pre>code{padding:0;margin:0 0 .5rem;background-color:transparent}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.tippy-box[data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-box[data-animation=shift-away][data-state=hidden][data-placement^=top]{transform:translateY(10px)}.tippy-box[data-animation=shift-away][data-state=hidden][data-placement^=bottom]{transform:translateY(-10px)}.tippy-box[data-animation=shift-away][data-state=hidden][data-placement^=left]{transform:translateX(10px)}.tippy-box[data-animation=shift-away][data-state=hidden][data-placement^=right]{transform:translateX(-10px)}.bg-white{background-color:#fff}.bg-gray-100{background-color:#f7fafc}.bg-indigo-100{background-color:#ebf4ff}.focus\:bg-blue-100:focus,.hover\:bg-blue-100:hover{background-color:#ebf8ff}.border-blue-200{border-color:#bee3f8}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.flex-col{flex-direction:column}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.flex-shrink-0{flex-shrink:0}.font-bold{font-weight:700}.h-screen{height:100vh}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.m-0{margin:0}.my-4{margin-top:1rem;margin-bottom:1rem}.mx-auto{margin-left:auto;margin-right:auto}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.max-w-2xl{max-width:42rem}.min-h-full{min-height:100%}.min-h-screen{min-height:100vh}.opacity-0{opacity:0}.opacity-100{opacity:1}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.p-4{padding:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.pb-4{padding-bottom:1rem}.absolute{position:absolute}.resize{resize:both}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.text-gray-600{color:#718096}.text-gray-900{color:#1a202c}.text-blue-600{color:#3182ce}.hover\:text-gray-700:hover{color:#4a5568}.no-underline{text-decoration:none}.w-32{width:8rem}.w-64{width:16rem}.z-10{z-index:10}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.origin-left{transform-origin:left}.rotate-90{--transform-rotate:90deg}.transition-opacity{transition-property:opacity}.duration-100{transition-duration:.1s}.highlight{background-color:#fefcbf;padding-left:.25rem;padding-right:.25rem;margin-left:-.25rem;margin-right:-.25rem;border-radius:.25rem}.handwritten-notes-img{position:relative;z-index:0}.handwritten-notes-content{position:absolute;top:140px;width:400px;color:transparent;z-index:0}.handwritten-notes-content a{color:transparent}.handwritten-notes-content a[href="/ipad"]{position:absolute;z-index:2;display:block;top:310px;left:calc(50% - 63px)}.note-container{max-width:100vw}@media (max-width:768px){.note-columns-container{width:unset!important}.note-container{width:100%!important}}::-webkit-scrollbar{-webkit-appearance:none;width:7px}::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}@media (min-width:768px){.md\:block{display:block}.md\:max-w-xl{max-width:36rem}.md\:overflow-x-auto{overflow-x:auto}.md\:sticky{position:sticky}}</style><meta name="generator" content="Gatsby 2.20.36"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/,/^(?:\/do\-not\-track\/me\/too\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-172030305-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-172030305-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link as="script" rel="preload" href="/webpack-runtime-eeb23f8c711b95cea4d6.js"/><link as="script" rel="preload" href="/framework-995310802c8b4a765741.js"/><link as="script" rel="preload" href="/app-6ef2d20aeaa3ef472852.js"/><link as="script" rel="preload" href="/styles-6b8affa5cc22cb60670e.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-andy-src-templates-note-js-94d4932ecd4c8ea4959b.js"/><link as="fetch" rel="preload" href="/page-data/lecture-1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="text-gray-900 flex flex-col min-h-screen h-screen"><header><div class="font-bold py-2 border-b px-4"><a class="no-underline text-gray-900" href="/">aeonneo&#x27;s notes</a></div></header><div class="flex-1 flex flex-grow overflow-x-hidden md:overflow-x-auto overflow-y-hidden"><div class="note-columns-container flex flex-grow transition-width duration-100" style="width:576px"><div class="note-container md:max-w-xl px-4 overflow-y-auto bg-white md:sticky flex flex-col flex-shrink-0 " style="left:0;right:-585px;width:576px"><div class="md:block hidden transition-opacity duration-100 opacity-0"><div class="transform rotate-90 origin-left pb-4 absolute z-10"><a aria-current="page" class="no-underline text-gray-900" href="/lecture-1"><p class="m-0 font-bold">Lecture 1</p></a></div></div><div class="flex flex-col min-h-full transition-opacity duration-100 opacity-100"><div class="flex-1"><h1 class="my-4">Lecture 1</h1><ul><li>Same Origin Policy</li><li>Server app security<ul><li>You can&#x27;t control the client. The client can go and send anything they want.</li></ul></li><li>Client app security<ul><li>It&#x27;s really easy to get a user to go to a url</li></ul></li><li>Auditing the code you&#x27;re running isn&#x27;t reaallly actually feasible. There&#x27;s too much changing at a time.</li><li>Why is security high?<ul><li>Run untrusted code securely</li><li>Want high performance on low-level features and hardware access</li><li>APIs have evolved</li><li>You can&#x27;t make changes to break old websites.</li></ul></li><li>Sites can:<ul><li>Download content from anywhere</li><li>Spawn worker processes</li><li>Open sockets</li><li>Many more things!</li></ul></li><li>Review<ul><li>HTML</li><li>Uniform Resource Locators (URLs)<ul><li><img src="https://firebasestorage.googleapis.com/v0/b/firescript-577a2.appspot.com/o/imgs%2Fapp%2Faeonneo%2FeiDo0fZQKv.png?alt=media&amp;token=05812bfa-b065-462d-be44-db2857e3ba0b"/></li><li>Ways to specify:<ul><li>Relative url (based off page we&#x27;re currently on) <code>&lt;a href=&#x27;september&#x27;&gt;September News&lt;/a&gt;</code></li><li>Full url: <code>&lt;a href=&#x27;http://stanford.edu/news/2019/&#x27;&gt;2019 News&lt;/a&gt;</code></li><li>Absolute URL: <code>&lt;a href=&#x27;/events&#x27;&gt;Events&lt;/a&gt;</code></li><li>Fragment URL: <code>&lt;a href=&#x27;#section3&#x27;&gt;Jump to section 3&lt;/a&gt;</code></li></ul></li></ul></li><li>There are many HTML tags. Important ones are <code>link</code>, <code>style</code>, <code>script</code>.</li><li>JS started out as a scripting language for the browser, so it was lacking many features (modules, file storage, etc). People came along and made node so it could be used as a general purpose scripting language.</li></ul></li><li>Many APIs aren&#x27;t actually JS, they are provided by the browser. Node therefore doesn&#x27;t have these (like moveWindow)</li><li>Readings<ul><li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part1">https://developers.google.com/web/updates/2018/09/inside-browser-part1</a><ul><li>CPU: Does tasks in general</li><li>GPU: Good for graphics</li><li>Process: Application&#x27;s executing program. The OS gives this a slab of memory</li><li>Thread: Lives inside the process; executes part of the process. Threads are optional.</li><li>Processes talk to each other using IPC (Inter Process Communication)</li><li>Chrome used to give each tab a process. Now it gives each site its own process (including iframes)</li><li>{{<a class="text-blue-600 px-1 -mx-1 rounded hover:bg-blue-100 focus:bg-blue-100" href="/table">table</a>}}<ul><li>Browser<ul><li>Controls &quot;chrome&quot; -- address bar, bookmarks, back/forward, network requests, file access</li></ul></li><li>Renderer<ul><li>Controls anything inside the tab where a website is showing</li></ul></li><li>Plugin<ul><li>Controls plugins used by the website (such as flash)</li></ul></li><li>GPU<ul><li>Handles GPU tasks in isolation (diff process because GPU handles requests from multiple apps, but draws on the same surface)</li></ul></li></ul></li></ul></li><li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part2">https://developers.google.com/web/updates/2018/09/inside-browser-part2</a><ul><li>When a url is entered...<ul><li>UI thread initiates network call to get site content. Network thread goes through appropriate protocols like DNS lookup and establishing TLS</li><li>Read response: Payload comes in; network thread looks at first few types of the stream if necessary. The content-type header should say what type of data it is but it can be wrong. <strong>MIME Type Sniffing</strong> can be used here, but this is tricky</li><li>Depending on the type of file, it gets passed to an appropriate process (renderer or download, for instance)</li><li>SafeBrowsing check occurs -- if it&#x27;s a known malicious site, then network thread alerts to display a warning. CORB (Cross Origin Read Blocking) makes sure sensitive cross-site data doesn&#x27;t get to the renderer.</li><li>Finally, the page renders, address bar is updated, and all other browser-relevant things are updated.</li><li>beforeunload runs when people leave.</li></ul></li></ul></li><li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part3">https://developers.google.com/web/updates/2018/09/inside-browser-part3</a><ul><li>What happens in the renderer process?<ul><li>Turn HTML, CSS, JS into a webpage. </li><li>Parse the DOM. </li><li>Load subresources (images, css, js needed)</li></ul></li></ul></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript</a></li></ul></li></ul></div><div class="refs-box bg-indigo-100 text-gray-600 rounded-lg mb-4 p-4"><h3>Referred in</h3><div class="mb-4"><a class="no-underline hover:text-gray-700" href="/stanford-web-security"><div class="py-2"><h5 class="">Stanford Web Security</h5><p class="text-sm m-0">Course Webpage Lecture 1 : How does the internet work? Assignment 1 :  https://web.stanford.edu/class/cs253/assign0 Lecture 2</p></div></a></div><hr class="mx-auto w-32"/><p>If you resonated or disagreed with this, I&#x27;d love to hear about it! Please reach out on <a href="https://twitter.com/messages/compose?recipient_id=aeonneo376">Twitter</a>!</p></div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/lecture-1";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6ef2d20aeaa3ef472852.js"],"component---node-modules-gatsby-theme-andy-src-templates-note-js":["/component---node-modules-gatsby-theme-andy-src-templates-note-js-94d4932ecd4c8ea4959b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-73f0b18b1ef843140054.js"]};/*]]>*/</script><script src="/component---node-modules-gatsby-theme-andy-src-templates-note-js-94d4932ecd4c8ea4959b.js" async=""></script><script src="/styles-6b8affa5cc22cb60670e.js" async=""></script><script src="/app-6ef2d20aeaa3ef472852.js" async=""></script><script src="/framework-995310802c8b4a765741.js" async=""></script><script src="/webpack-runtime-eeb23f8c711b95cea4d6.js" async=""></script></body></html>